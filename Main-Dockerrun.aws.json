{
  "AWSEBDockerrunVersion": 2,
  "volumes": [
    {
      "name": "mysqldata",
      "host": {
        "sourcePath": "/var/app/current/mysql/data/"
      }
    },
	{
      "name": "mongodata",
      "host": {
        "sourcePath": "/var/app/current/mongo/data/"
      }
    }
  ],
  "containerDefinitions": [
    {
      "name": "eureka-naming-server",
      "image": "zohancs/stock-market-eureka-server:1.0.0",
      "environment": [],
      "essential": true,
      "memory": 128,
      "mountPoints": []
    },
	{
      "name": "company-service",
      "image": "zohancs/stock-market-company-service:1.0.0",
      "essential": false,
      "memory": 100,
      "portMappings": [
        {
          "hostPort": 8000,
          "containerPort": 8000
        }
      ],
      "links": [
        "eureka-naming-server",
		"mysqldb"
      ],
	  "environment": [
		{
		  "name": "EUREKA_URI",
		  "value": "http://eureka-naming-server:8761/eureka"
		},
		{
		  "name": "MYSQL_HOST",
		  "value": "mysqldb"
		}
	  ],
      "mountPoints": []
    },
    {
      "name": "zuul-api-gateway",
      "image": "zohancs/zuul-api-gateway:1.0.0",
      "essential": true,
      "memory": 100,
      "portMappings": [
        {
          "hostPort": 7000,
          "containerPort": 7000
        }
      ],
      "links": [
        "eureka-naming-server"
      ],
	  "environment": [
		{
		  "name": "EUREKA_URI",
		  "value": "http://eureka-naming-server:8761/eureka"
		}
	  ],
      "mountPoints": []
    },
	{
      "name": "stock-service",
      "image": "zohancs/stock-market-stock-service:1.0.0",
      "essential": false,
      "memory": 128,
      "portMappings": [
        {
          "hostPort": 9000,
          "containerPort": 9000
        }
      ],
      "mountPoints": [],
	   "links": [
        "eureka-naming-server",
		"mongodb"
      ],
	  "environment": [
		{
		  "name": "EUREKA_URI",
		  "value": "http://eureka-naming-server:8761/eureka"
		},
		{
		  "name": "MONGO_HOST",
		  "value": "mongodb"
		}
	  ] 
    },
	{
      "name": "mysqldb",
      "image": "mysql/mysql-server",
      "essential": false,
      "memory": 128,
      "portMappings": [
        {
          "hostPort": 3306,
          "containerPort": 3306
        }
      ],
      "mountPoints": [
        {
          "sourceVolume": "mysqldata",
          "containerPath": "/var/lib/mysql",
          "readOnly": true
        }
      ],
	  "environment": [
		{
		  "name": "MYSQL_ROOT_PASSWORD",
		  "value": "root"
		},
		{
		  "name": "MYSQL_DATABASE",
		  "value": "manage_company"
		},
		{
		  "name": "MYSQL_USER",
		  "value": "root"
		},
		{
		  "name": "MYSQL_PASSWORD",
		  "value": "root"
		}
	  ]
    },
	{
      "name": "mongodb",
      "image": "mongo",
      "essential": false,
      "memory": 128,
      "portMappings": [
        {
          "hostPort": 27017,
          "containerPort": 27017
        }
      ],
      "mountPoints": [
        {
          "sourceVolume": "mongodata",
          "containerPath": "data/db",
          "readOnly": true
        }
      ]
    }
  ]
}